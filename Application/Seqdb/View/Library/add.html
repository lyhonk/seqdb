<include file="Public/header"/>

    <div class="container">
        <div class="row">
        <div class="col-md-12">

            <form  method="post" action="__URL__/add">
                <fieldset id="InputsWrapper">
                    <legend><strong>文库信息</strong></legend>
                    <a class="btn btn-info pull-right" style="margin-right: 30px;" href="#" role="button" id="AddMoreFileBox">添加一个文库</a>

                    <div class="row"></div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="bs-callout bs-callout-info">
                                <legend>文库序号 1</legend>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label> 文库编号: </label>
                                            <input type="text" class="form-control" name="lib_id[]" placeholder="1" value="1">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label> 文库描述: </label>
                                            <input type="text" class="form-control" name="description[]" placeholder="文库简短描述">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label> 建库试剂: </label>
                                            <input type="text" class="form-control" name="kit[]" placeholder="library kit">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>样品编号: </label>
                                            <select class="selectpicker" name="sample_id[]" data-hide-disabled="true" data-live-search="true" title="请选择样本来源">
                                                <option value="none">样本不在本数据库</option>
                                                <foreach name="sampleinfo" item="sample" >
                                                    <option value="{$sample['sampleid']}">Sample ID:{$sample['sampleid']} Type:{$sample['type']} Name:{$sample['name']} Source:{$sample['source']} Nucleic_acid:{$sample['nucleic_acid']}</option>
                                                </foreach>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>建库时间: </label>
                                            <input  type="text" readonly class="form-control timeer" name="create_date[]" placeholder="建库时间">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>PCR循环数: </label>
                                            <input type="text" class="form-control" name="cycle_num[]" placeholder="PCR cycle number">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>模板质量: </label>
                                            <input type="text" class="form-control" name="template_mass[]" placeholder="template mass(ug)">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>文库体积: </label>
                                            <input type="text" class="form-control" name="lib_volume[]" placeholder="volume of lib(ul)">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>Qubit浓度: </label>
                                            <input type="text" class="form-control" name="conc_qubit[]" placeholder="conc.by Qubit2.0(ng/ul)">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>qPCR浓度: </label>
                                            <input type="text" class="form-control" name="conc_qpcr[]" placeholder="conc.by qPCR(nM)">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>2100峰值: </label>
                                            <input type="text" class="form-control" name="peak[]" placeholder="peak by 2100(bp)">
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group form-inline">
                                            <label>备注: </label>
                                            <input type="text" class="form-control" name="comment[]" placeholder="备注">
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <a class="btn btn-info btn-xs pull-right removeclass" style="margin-right: 30px;" href="#" role="button">删除</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </fieldset>


                <fieldset>
                    <div class="row">
                            <button type="submit" class="btn btn-primary pull-right ">提交</button>
                    </div>
                    
                </fieldset>

            </form>
        </div>
        
        </div>
    </div>


    <div class="container">
        <!-- Example row of columns -->
        
        <hr>

        <footer>
        <p>&copy; Company 2014</p>
        </footer>
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="__JS__/ie10-viewport-bug-workaround.js"></script>
    <script src="__JS__/bootstrap-datetimepicker.min.js"></script>

    <script>  

    $(document).ready(function() {  
      
    var MaxInputs       = 100; //maximum input boxes allowed  
    var InputsWrapper   = $("#InputsWrapper"); //Input boxes wrapper ID  
    var AddButton       = $("#AddMoreFileBox"); //Add button ID  
      
    var x = InputsWrapper.length; //initlal text box count  
    var FieldCount=1; //to keep track of text box added  
      
    $(AddButton).click(function (e)  //on add input button click  
    {  
            if(x <= MaxInputs) //max input box allowed  
            {  
                FieldCount++; //text box added increment  
                //add input box  

                $(InputsWrapper).append('<div class="row"><div class="col-md-12"><div class="bs-callout bs-callout-info"><legend>文库序号 '+ FieldCount +'</legend><div class="row"><div class="col-md-4"><div class="form-group form-inline"><label> 文库编号: </label><input type="text" class="form-control" name="lib_id[]" placeholder="'+ FieldCount +'" value="'+ FieldCount +'"></div></div><div class="col-md-4"><div class="form-group form-inline"><label> 文库描述: </label><input type="text" class="form-control" name="description[]" placeholder="文库简短描述"></div></div><div class="col-md-4"><div class="form-group form-inline"><label> 建库试剂: </label><input type="text" class="form-control" name="kit[]" placeholder="library kit"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>样品编号: </label><select class="selectpicker" name="sample_id[]" data-hide-disabled="true" data-live-search="true" title="请选择样本来源"><option value="none">样本不在本数据库</option><foreach name="sampleinfo" item="sample" ><option value="{$sample['sampleid']}">Sample ID:{$sample['sampleid']} Type:{$sample['type']} Name:{$sample['name']} Source:{$sample['source']} Nucleic_acid:{$sample['nucleic_acid']}</option></foreach></select></div></div><div class="col-md-4"><div class="form-group form-inline"><label>建库时间: </label><input  type="text" readonly class="form-control timeer" name="create_date[]" placeholder="建库时间"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>PCR循环数: </label><input type="text" class="form-control" name="cycle_num[]" placeholder="PCR cycle number"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>模板质量: </label><input type="text" class="form-control" name="template_mass[]" placeholder="template mass(ug)"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>文库体积: </label><input type="text" class="form-control" name="lib_volume[]" placeholder="volume of lib(ul)"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>Qubit浓度: </label><input type="text" class="form-control" name="conc_qubit[]" placeholder="conc.by Qubit2.0(ng/ul)"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>qPCR浓度: </label><input type="text" class="form-control" name="conc_qpcr[]" placeholder="conc.by qPCR(nM)"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>2100峰值: </label><input type="text" class="form-control" name="peak[]" placeholder="peak by 2100(bp)"></div></div><div class="col-md-4"><div class="form-group form-inline"><label>备注: </label><input type="text" class="form-control" name="comment[]" placeholder="备注"></div></div></div><div class="row"><a class="btn btn-info btn-xs pull-right removeclass" style="margin-right: 30px;" href="#" role="button">删除</a></div></div></div></div>');  
                $(".selectpicker").selectpicker();
                $(".timeer").datetimepicker(
                    {format: 'yyyy-mm-dd', 
                    startView:2, 
                    todayBtn: true, 
                    autoclose: true,
                    minView: 2, 
                    clearBtn:true}
                    ); 
                x++; //text box increment  
            }  
    return false;  
    });  
      
    $("body").on("click",".removeclass", function(e){ //user click on remove text  
            if( x > 1 ) {  
                    $(this).parent('div').parent('div').remove(); //remove text box  
                    x--; //decrement textbox  
            }  
    return false;  
    })   
      
    });  
    </script>
    <script type="text/javascript">
        $(".timeer").datetimepicker(
            {format: 'yyyy-mm-dd', 
            startView:2, 
            todayBtn: true, 
            autoclose: true,
            minView: 2, 
            clearBtn:true}
            );
    </script>
    </body>
</html>
